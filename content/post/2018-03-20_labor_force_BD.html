---
title: Introduction to Rilostat
author: Rushad Faridi
date: 2018-03-20
slug: intro-r-ilostat
categories: []
tags: []
---



<p>Today in national daily prothom-alo I found an article titled “মানুষের কাজের সুযোগ কমেছে”. In that regard I thought I might have a look in the data of labor force. I found a very nice R package titled <a href="https://cran.r-project.org/web/packages/Rilostat/index.html" title="Rilostat">Rilostat</a>. Let me discuss a little bit on that nice package.</p>
<p>For installation and related instruction please consult <a href="https://github.com/ilostat/Rilostat" title="Rilostat">Rilsostat github page</a></p>
<p>Before we start let’s load the required libraries:</p>
<pre class="r"><code>require(dplyr)</code></pre>
<pre><code>## Loading required package: dplyr</code></pre>
<pre><code>## 
## Attaching package: &#39;dplyr&#39;</code></pre>
<pre><code>## The following objects are masked from &#39;package:stats&#39;:
## 
##     filter, lag</code></pre>
<pre><code>## The following objects are masked from &#39;package:base&#39;:
## 
##     intersect, setdiff, setequal, union</code></pre>
<pre class="r"><code>require(Rilostat)</code></pre>
<pre><code>## Loading required package: Rilostat</code></pre>
<p>To have a quick look at the functions available in <code>Rilostat</code> package, let’s issue the following command:</p>
<pre class="r"><code>ls(&quot;package:Rilostat&quot;)</code></pre>
<pre><code>## [1] &quot;clean_ilostat_cache&quot; &quot;get_ilostat&quot;         &quot;get_ilostat_dic&quot;    
## [4] &quot;get_ilostat_toc&quot;     &quot;ilostat&quot;             &quot;label_ilostat&quot;      
## [7] &quot;sdmx_ilostat&quot;</code></pre>
<p>I think that is a pretty handy command to have a quick look at all the functions available in a package. Now in the case of <code>Rilostat</code> package, we find that there are 7 main functions. It seems <code>get_ilostat</code> and <code>get_ilostat_toc</code> might be the most frequrently used. But I might be wrong. Let’s see.</p>
<p>Let’s get the table of contents first:</p>
<pre class="r"><code>toc &lt;- get_ilostat_toc()
dim(toc)</code></pre>
<pre><code>## [1] 446  14</code></pre>
<p>This toc has 446 indicators and 14 variables. Let’s have a quick look:</p>
<pre class="r"><code>head(toc,2)</code></pre>
<pre><code>## # A tibble: 2 x 14
##   id     indicator  indicator.label      freq  freq.label size  data.start
##   &lt;chr&gt;  &lt;chr&gt;      &lt;chr&gt;                &lt;chr&gt; &lt;chr&gt;      &lt;chr&gt; &lt;chr&gt;     
## 1 GDP_2… GDP_211P_… Output per worker (… A     Annual     75.0… 1991      
## 2 GDP_2… GDP_205U_… Output per worker (… A     Annual     73.6… 1991      
## # ... with 7 more variables: data.end &lt;chr&gt;, last.update &lt;chr&gt;,
## #   n.records &lt;dbl&gt;, collection &lt;chr&gt;, collection.label &lt;chr&gt;,
## #   subject &lt;chr&gt;, subject.label &lt;chr&gt;</code></pre>
<p>Names of the variables are:</p>
<pre class="r"><code>names(toc)</code></pre>
<pre><code>##  [1] &quot;id&quot;               &quot;indicator&quot;        &quot;indicator.label&quot; 
##  [4] &quot;freq&quot;             &quot;freq.label&quot;       &quot;size&quot;            
##  [7] &quot;data.start&quot;       &quot;data.end&quot;         &quot;last.update&quot;     
## [10] &quot;n.records&quot;        &quot;collection&quot;       &quot;collection.label&quot;
## [13] &quot;subject&quot;          &quot;subject.label&quot;</code></pre>
<p>Now time to do some searching</p>
<p>Let’s search for the word unemployment</p>
<pre class="r"><code>toc.unemp  &lt;-  get_ilostat_toc(search=c(&quot;unemployment&quot;,&quot;Annual&quot;))
dim(toc.unemp)</code></pre>
<pre><code>## [1] 19 14</code></pre>
<p>In the above we find that there are <code>dim(toc.unemp)</code> 23 such indicators. We would like to concentrate on those which has annual frequency.</p>
<pre class="r"><code>toc.unemp.ann  &lt;-  get_ilostat_toc(search=c(&quot;Combined rate&quot;,&quot;Annual&quot;))</code></pre>
<p>Let’s say, we would like to find data on <code>Bangladesh</code>. So let’s see what we get:</p>
<pre class="r"><code>toc.bd &lt;- get_ilostat_toc(segment=&#39;ref_area&#39;, search=c(&#39;Bangladesh&#39;), fixed=FALSE)</code></pre>
<p>The above just gives a rough idea on what types of data sets are available. But if we want to get specific type of dataset then, we do the following:</p>
<pre class="r"><code>bd.dat &lt;- get_ilostat(id=&#39;BGD_A&#39;, segment=&#39;ref_area&#39;)</code></pre>
<pre><code>## Table BGD_A cached at /tmp/RtmpTJEHVg/ilostat/ref_area-BGD_A-code-raw-20180318T0823.rds</code></pre>
<p>As expected, it lists all the annual data, but the problem is that there is no indicator labe so I have no clue what is going. Therefore from the <code>toc</code> data, I bring in the indicator label</p>
<pre class="r"><code>bd.ann  &lt;- bd.dat %&gt;% 
        left_join(toc, by=c(&quot;indicator&quot;)) %&gt;% 
        select(indicator,indicator.label,sex,time,obs_value, everything()) 
save(bd.ann, file=&quot;../RDATA/bd_ann.RData&quot;)</code></pre>
<p>Let’s get to a little bit more specificity. Let’s now sort out unemployment related data</p>
<pre class="r"><code>bd.ann.unem.2016  &lt;- bd.ann %&gt;% filter(grepl(&quot;unemployment&quot;, indicator.label), time==2016)</code></pre>
<p>Okay, so in this blog post we got a fair bit of idea on the <code>Rilostat</code> package. We will get back with more details later.</p>
