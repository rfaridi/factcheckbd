---
title: Chaotic data on child marriage in Bangladesh (Part 2)
author: Rushad Faridi
date: 2018-03-07
categories: []
tags: []
---



<p>Just following up from the earlier post, which was the first post of this series, I imported UNICEF data on child marriage. Now I will try to play around a bit with this data.</p>
<pre class="r"><code>load(&quot;../RDATA/cm_clean.RData&quot;)
load(&quot;../RDATA/world_template.RData&quot;)</code></pre>
<p>Remember the <code>world_template.RData</code> contains a template data frame which has been formed from <code>map_data(world)</code> available in <code>ggplot2</code> and later was merged with country codes found in <code>countrycode</code> package.</p>
<p>Now let’s quickly add a country codes to child marriage data.</p>
<pre class="r"><code>library(dplyr)</code></pre>
<pre><code>## 
## Attaching package: &#39;dplyr&#39;</code></pre>
<pre><code>## The following objects are masked from &#39;package:stats&#39;:
## 
##     filter, lag</code></pre>
<pre><code>## The following objects are masked from &#39;package:base&#39;:
## 
##     intersect, setdiff, setequal, union</code></pre>
<pre class="r"><code>library(countrycode)
cm.code  &lt;- cm.clean %&gt;% 
             mutate(code=countrycode(country, &quot;country.name&quot;, &quot;iso3c&quot;))</code></pre>
<pre><code>## Warning in countrycode(country, &quot;country.name&quot;, &quot;iso3c&quot;): Some values were not matched unambiguously: Contact us:, East Asia and Pacific, Eastern and Southern Africa, Eastern Europe and Central Asia, Europe and Central Asia, Indicator definition:, Latin America and Caribbean, Least developed countries, Middle East and North Africa, North America, Notes:, Prepared by the Data and Analytics Section; Division of Data, Research and Policy, UNICEF, Source:, South Asia, Sub-Saharan Africa, SUMMARY, West and Central Africa, Western Europe, World</code></pre>
<p>It seems that it has also some regional name and naturally those do not have any codes. Therefore, we get rid of those.</p>
<pre class="r"><code>cm.code.clean  &lt;- cm.code %&gt;% 
                    filter(!is.na(code))</code></pre>
<p>Now let’s use the world template data to merge and get the geolocation for mapping purpose.</p>
<pre class="r"><code>cm.geo &lt;- world.template %&gt;% 
                 left_join(cm.code.clean, by=c(&quot;ccode&quot;=&quot;code&quot;))</code></pre>
<p>Now it’s ready for mapping</p>
<pre class="r"><code>library(ggplot2)
cm.geo %&gt;% 
ggplot() +
    geom_polygon(aes(long,lat,group=group,fill=mar.18),
         alpha=0.8,
         color=&#39;black&#39;) +
    #scale_fill_manual(values=c(N=&quot;red&quot;,Y=&quot;green&quot;,A=&quot;brown&quot;,abs=&quot;grey&quot;))+
    coord_equal()+
    theme_void()</code></pre>
<p><img src="/post/child_marriage_bangladesh_part2_files/figure-html/map-1.png" width="672" /></p>
